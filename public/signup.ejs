<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>GrantMatcher - Signup</title>
    <%- head %>
    <style>
        .tooltip.wide-tooltip .tooltip-inner {
            max-width: 300px;
            white-space: normal;
            padding: 5px;
        }
    </style>
</head>
<body>
    <!-- Navigation (sticky header). Links and dropdown collapse into a hamburger menu when the screen size is small. -->
    <nav class="navbar navbar-expand-lg navbar-dark px-3" id="navbar">
        <!-- Brand on the left -->
        <a class="navbar-brand bigBrand" href="/" id="navbar-brand">Grant Matcher</a>

        <!-- Toggler (for mobile view) -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" id="navbar-toggler">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar links on the right -->
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <!-- Links here -->
                <li class="nav-item">
                    <a class="nav-link" href="/login">Login</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/signup">Signup</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/tutorial">Tutorial</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- The error modal when the credentials are invalid -->
    <div id="modal1" class="modal">
        <div class="modal-content">
            <div class="together">
                <h2>Error!</h2>
                <!-- Numbering the IDs so I can use many modals (code reuse) -->
                <span class="close" id="close1">&times;</span>
            </div>
            <hr/>
            
            <p><%= showAlert %></p>
        </div>
    </div>

    <!-- The main content -->
    <main>
        <section class="d-flex justify-content-center flex-grow-1">
            <div style="margin: 0 auto; display:inline-block; max-width: fit-content; width: 250px; overflow: hidden; padding-bottom: 10px;">
                <h1 style="text-align: center;">Signup</h1>
                <p>Already have an account? <a href="/login">Login</a> instead!</p>
                <form method="post" action="/signup">
                    <label><b>NAME</b></label><br>
                    <input type="text" id="name" name="name" placeholder="Enter Your Name" required><br><br>

                    <label><b>EMAIL</b></label><br>
                    <input type="text" id="email" name="email" placeholder="Enter Your Email" required><br><br>

                    <label>
                        <b>AUTHENTICATION CODE</b>
                    </label>
                    <!-- Explanation for authentication code -->
                    <button type="button" class="btn" data-bs-toggle="tooltip" data-bs-placement="top" 
                    title="For security reasons, only select USYD staff are allowed to use this site. An 8-character code should have been provided to you from your manager or from me. If you didn't receive it or aren't part of my client's team at USYD, please contact me at flyingbutter213@gmail.com.">
                        <i class="fa fa-question" style="border-radius: 70%; border: 2px solid black; padding: 1px 5px 1px 4px;"></i>
                    </button>

                    <br>
                    <input type="text" id="authcode" name="authcode" placeholder="Enter Your Authentication Code" required><br><br>

                    <label><b>PASSWORD</b></label><br>
                    <input type="password" id="password" name="password" placeholder="Enter Your Password" required><br><br>

                    <label><b>CONFIRM PASSPORT</b></label><br>
                    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Your Password" required><br><br>

                    <div style="float: right;">
                        <input type="checkbox" id="rememberme" name="rememberme" value="rememberme">
                        <label for="rememberme"> Remember Me</label><br>
                    </div><br><br>

                    <input type="submit" value="Login!" class="buttonStyle">
                </form>
            </div>
        </section>
    </main>
    <%- footer %>
    <!-- Bootstrap for JS -->
    <script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.min.js"></script>
    <script src="script.js"></script>
    <script>
        // tooltip stuff
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        // show alerts
        if ("<%= showAlert %>" != "no") {
            openModal(1);
        }
    </script>
    <script>
        // widen the tooltip
        new bootstrap.Tooltip(document.querySelector('.btn'), {
            customClass: 'wide-tooltip'
        });
    </script>
</body>
</html>